<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MTRS :: Knowledge Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700;800;900&family=Roboto:wght@400;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* KEYFRAMES FOR ANIMATION */
        @keyframes border-flicker {
            0%, 100% { border-color: rgba(52, 211, 153, 0.5); }
            50% { border-color: rgba(16, 185, 129, 0.8); }
        }

        /* BASE STYLES */
        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #0d121c, #03070b); /* Atmospheric Background */
            color: #e2e8f0; 
            min-height: 100vh;
        }

        /* MAIN STUDY BODY (Futuristic Card Style) */
        .calculator-body {
            /* Futuristic Card Styling: Glass-morphism + Animated Border */
            background: rgba(13, 17, 23, 0.7); 
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            border: 2px solid;
            animation: border-flicker 4s infinite alternate; 
            transition: all 0.5s ease-in-out;
            
            /* Tailwind Classes: p-6 md:p-10 rounded-xl shadow-2xl */
            padding: 1.5rem; /* p-6 */
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); /* shadow-2xl */
        }
        @media (min-width: 768px) {
             .calculator-body {
                 padding: 2.5rem; /* md:p-10 */
             }
        }
        .calculator-body:hover {
            box-shadow: 0 0 40px rgba(52, 211, 153, 0.5); /* Stronger hover glow */
        }


        /* DIGITAL DISPLAY AREA (Question/Answer Screen) */
        .display-screen {
            background-color: rgba(13, 17, 23, 0.9); 
            border: 1px solid rgba(52, 211, 153, 0.3);
            box-shadow: inset 0 0 10px rgba(16, 185, 129, 0.3);
            
            /* Tailwind Classes: p-4 rounded-lg */
            padding: 1rem; /* p-4 */
            border-radius: 0.5rem; /* rounded-lg */
            min-height: 200px; /* Ensure visibility */
        }
        
        /* Data Readout Font */
        .data-font {
            font-family: 'Space Mono', monospace;
        }
        .data-font-main {
            font-family: 'Orbitron', sans-serif;
        }

        /* KEYPAD STYLES (Sharper, more aggressive look) */
        .btn-key {
            transition: all 0.2s ease-in-out;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5); /* Lifted shadow */
            position: relative;
            overflow: hidden;
            font-family: 'Orbitron', sans-serif;
        }
        /* Neon button hover effect */
        .btn-key:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.7);
        }
        .btn-key:active {
            transform: translateY(0);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        /* Keypad Color Specific Glows */
        /* Green Key (Show/Correct) */
        .key-green {
            background: linear-gradient(135deg, #10b981, #34d399);
            border: 1px solid #a7f3d0;
        }
        .key-green:hover {
            box-shadow: 0 0 20px rgba(52, 211, 153, 0.9);
        }
        /* Red Key (Next/Incorrect) */
        .key-red {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            border: 1px solid #fca5a5;
        }
        .key-red:hover {
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.9);
        }
        /* Blue Key (Reset/Info) */
        .key-blue {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            border: 1px solid #93c5fd;
        }
        .key-blue:hover {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.9);
        }

        /* Custom utility for hidden state */
        .hidden-answer {
            filter: blur(8px);
            transition: filter 0.5s ease-in-out;
        }
        .visible-answer {
            filter: blur(0);
            transition: filter 0.5s ease-in-out;
        }

        /* NEW STYLE FOR LIST VIEW */
        .qa-list-item {
            border-bottom: 1px solid rgba(52, 211, 153, 0.2);
            padding: 1rem 0;
        }
        .qa-list-item:last-child {
            border-bottom: none;
        }

        /* New custom style for the index button to match the theme */
        .btn-index {
            background-color: rgba(30, 41, 59, 0.8); /* Slate-800 equivalent */
            border: 1px solid #3b82f6; /* Key-blue border */
            color: #93c5fd; /* Key-blue light text */
            transition: all 0.2s ease-in-out;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
            font-family: 'Orbitron', sans-serif;
            text-decoration: none; /* Remove underline */
            display: block; /* Make it take full width */
            text-align: center;
        }

        .btn-index:hover {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.9);
            transform: translateY(-2px);
            color: #fff;
        }
    </style>
</head>
<body class="p-4 md:p-10 min-h-screen flex items-center justify-center">

    <div class="w-full max-w-4xl">
        <header class="text-center mb-6">
            <h1 class="text-4xl xs:text-4xl sm:text-5xl font-extrabold text-blue-400 mb-2 tracking-widest data-font-main">
                <span class="text-blue-500/80">&lt;</span> FLASH CARDS
            </h1>
            <p class="text-gray-400 text-base">TEST YOUR KNOWLEDGE</p>
        </header>

        <div class="calculator-body shadow-2xl">

            <div id="flashcardView">
                <div class="display-screen mb-8 flex flex-col justify-between">
                    <div>
                        <h2 class="text-xl md:text-2xl font-bold mb-4 text-green-300 data-font-main flex justify-between items-center">
                            <span id="cardHeader">QUESTION // </span>
                            <span id="cardCounter" class="text-sm text-gray-400 data-font"></span>
                        </h2>

                        <div id="questionText" class="text-lg md:text-xl text-white data-font mb-6">
                            </div>
                    </div>

                    <div id="answerSection">
                        <h3 class="text-sm font-semibold text-red-400 uppercase tracking-widest data-font-main mb-2">:: ANSWER ::</h3>
                        <div id="answerText" class="text-lg md:text-xl text-yellow-300 data-font p-3 bg-gray-900/50 rounded-md hidden-answer">
                            </div>
                    </div>
                </div>
            </div>

            <div id="listView" class="display-screen mb-8 hidden overflow-y-auto max-h-96">
                <h2 class="text-2xl font-bold mb-4 text-blue-400 data-font-main">:: KNOWLEDGE ARCHIVE ::</h2>
                <div id="qaListContainer">
                    </div>
            </div>

            <div id="messageBox" class="mt-4 hidden p-3 rounded-lg text-sm font-medium border data-font mb-8"></div>

            <section>
                <div class="grid grid-cols-4 md:grid-cols-5 gap-6">
                    <button id="showBtn" onclick="toggleAnswer(true)" class="btn-key key-green text-white font-extrabold py-5 px-6 rounded-lg data-font-main col-span-2 md:col-span-1">
                        <span class="block text-xl tracking-wider">ANSWER</span>
                        <span class="block text-xs opacity-90 font-light mt-1 data-font">Compare</span>
                    </button>
                    
                    <button id="nextBtn" onclick="nextCard()" class="btn-key key-red text-white font-extrabold py-5 px-6 rounded-lg data-font-main col-span-2 md:col-span-1">
                        <span class="block text-xl tracking-wider">NEXT CARD</span>
                        <span class="block text-xs opacity-90 font-light mt-1 data-font">Continue</span>
                    </button>

                    <button onclick="toggleListView()" class="btn-key key-blue text-white font-extrabold py-5 px-6 rounded-lg data-font-main col-span-2 md:col-span-1">
                        <span id="listBtnText" class="block text-xl tracking-wider">VIEW LIST</span>
                        <span class="block text-xs opacity-90 font-light mt-1 data-font">All Q/A</span>
                    </button>
                    
                    <button onclick="resetApp()" class="btn-key key-blue text-white font-extrabold py-5 px-6 rounded-lg data-font-main col-span-2 md:col-span-2">
                        <span class="block text-xl tracking-wider">RESET</span>
                        <span class="block text-xs opacity-90 font-light mt-1 data-font">Restart Review</span>
                    </button>
                </div>
            </section>
        </div>
        
        <a href="index.html" class="btn-index mt-6 py-4 rounded-lg text-lg uppercase font-extrabold tracking-wider">
            &#9664; BACK
        </a>
    </div>

    <script>
        // --- DATA MODEL (Flashcards) ---
        const flashcards = [
            { question: "Whats the min and max range of a 120mm mortar?", answer: "The minimum range of a 120mm mortar is 200 meters and the maximum range is 7200 meters.", topic: "120mm" },
            { question: "What is the kill radius of the HE 120mm mortar round?", answer: "70m to 75m", topic: "Rounds" },
            { question: "What is the nomenclature of the 120mm bipod ground mounted?", answer: "M190", topic: "120mm" },
            { question: "What is the nomenclature of the sight ?", answer: "M67", topic: "General" },
            { question: "What is the nomenclature of the 120mm baseplate?", answer: "M9", topic: "120mm" },
            { question: "What is the nomenclature of the 120mm mortar tube?", answer: "M298", topic: "120mm" },
            { question: "What is the nomenclature of the bore sight?", answer: "M45", topic: "General" },
            { question: "When bore sighting a mortar system, what should the elevation be set on?", answer: "0800", topic: "General" },
            { question: "What does the bore sight detect?", answer: "Error on the sight", topic: "General" },
            { question: "How many different round types are there for the 120mm mortar system?", answer: "5: HE, WP, Illum, FRTR, IR Illum", topic: "120mm" },
            { question: "What are the NATO color markings of HE rounds?", answer: "Olive drab, yellow markings", topic: "Rounds" },
            { question: "What are the NATO color markings of Illumination rounds?", answer: "White, black markings", topic: "Rounds" }, 
            { question: "What are the NATO color markings on the white phosphorus rounds?", answer: "Light green, black markings", topic: "Rounds" },
            { question: "When should you swab the tube?", answer: "Every 10 rounds or when FDC calls EOM (End of Mission)", topic: "General" },
            { question: "What mortar equipment contains tritium?", answer: "Sight, pole lights, 60mm cannon handle, M2 Compass", topic: "General" },
            { question: "What is the Maximum range of the 81mm mortar system?", answer: "5608m", topic: "81mm" },
            { question: "What is the minimum range of the 81mm mortar system?", answer: "85m ask", topic: "81mm" },
            { question: "What is the kill radius of the 81mm mortar system?", answer: "35m-40m", topic: "81mm" },
            { question: "What is the nomenclature of the 81mm bipod?", answer: "M177A1", topic: "81mm" },
            { question: "What is the nomenclature of the 81mm baseplate?", answer: "M3A2", topic: "81mm" },
            { question: "What is the nomenclature of the 81mm mortar tube?", answer: "M253A1", topic: "81mm" },
            { question: "What are the different types of adjust fire missions?", answer: "Grid, Polar, Shift", topic: "General" },
            { question: "What is the nomenclature of the 60mm bipod?", answer: "M170A1", topic: "60mm" },
            { question: "What is the nomenclature of the 60mm mortar tube?", answer: "M225A1", topic: "60mm" },
            { question: "What are the nomenclatures of the 60mm baseplates?", answer: "M7A1, M8", topic: "60mm" },
            { question: "What is the nomenclature of the aiming posts?", answer: "M14", topic: "General" },
            { question: "What are the max ranges of the 60mm mortar system?", answer: "3490m (Conventional) 1340m (Handheld)", topic: "60mm" },
            { question: "What are the minimum ranges of the 60mm mortar system?", answer: "70m-75m", topic: "60mm" },
            { question: "What is the candlepower of the 120mm Illumination round?", answer: "1 million", topic: "120mm" },
            { question: "What is the candlepower of the 60mm Illumination round?", answer: "its Round dependent. M83: The M83 and its variants produce between 145,000 and 250,000 candlepower. M721: This round provides approximately 300,000 to 400,000 candlepower. M63: A French 60mm M63 round produces 300,000 candlepower. ", topic: "60mm" },
            { question: "How many mils for each turn of the traversing wheel on the 120mm mortar system?", answer: "5 mils", topic: "120mm" },
            { question: "Describe what a mortar system is.", answer: "Smooth bore, muzzle loaded, crew served, air cooled, high angle fire weapon", topic: "General" },
            { question: "What is the nomenclature of the multi-option fuze?", answer: "M734A1", topic: "Rounds" },
        ];

        // --- DOM Elements ---
        const flashcardView = document.getElementById('flashcardView');
        const listView = document.getElementById('listView');
        const qaListContainer = document.getElementById('qaListContainer');
        const listBtnText = document.getElementById('listBtnText');
        const questionText = document.getElementById('questionText');
        const answerText = document.getElementById('answerText');
        const cardHeader = document.getElementById('cardHeader');
        const cardCounter = document.getElementById('cardCounter');
        const showBtn = document.getElementById('showBtn');
        const nextBtn = document.getElementById('nextBtn');
        const messageBox = document.getElementById('messageBox');
        
        // --- State Variables ---
        let currentCardIndex = 0;
        let isAnswerVisible = false;
        let isListViewVisible = false;

        /**
         * Utility function to display a message.
         * @param {string} msg - The message text.
         * @param {string} type - 'success', 'error', or 'info'.
         */
        function showMessage(msg, type = 'info') {
            messageBox.innerHTML = msg;
            messageBox.classList.remove('hidden');
            messageBox.classList.remove('bg-red-900', 'text-red-300', 'border-red-700', 'bg-emerald-900', 'text-emerald-300', 'border-emerald-700', 'bg-gray-800', 'text-gray-300', 'border-blue-600'); 

            if (type === 'error') {
                messageBox.classList.add('bg-red-900', 'text-red-300', 'border-red-700');
            } else if (type === 'success') {
                messageBox.classList.add('bg-emerald-900', 'text-emerald-300', 'border-emerald-700');
            } else { // info (Gray/Blue accent)
                messageBox.classList.add('bg-gray-800', 'text-gray-300', 'border-blue-600');
            }
        }

        /**
         * Loads and displays the current question and topic.
         */
        function loadCard() {
             if (flashcards.length === 0) {
                showMessage("ERROR: No flashcards loaded in the data model.", 'error');
                return;
            }
            if (currentCardIndex >= flashcards.length) {
                currentCardIndex = 0; 
                showMessage("SEQUENCE COMPLETE: Cycle restarted. Reviewing from the beginning.", 'success');
            }

            const card = flashcards[currentCardIndex];
            
            questionText.innerHTML = card.question;
            answerText.innerHTML = card.answer;
            
            cardHeader.textContent = `${card.topic.toUpperCase()} // `; 
            cardCounter.textContent = `[${currentCardIndex + 1}/${flashcards.length}]`;

            toggleAnswer(false);
        }

        /**
         * Toggles the visibility and blur effect of the answer.
         * @param {boolean} visible - True to show, False to hide/blur.
         */
        function toggleAnswer(visible) {
            isAnswerVisible = visible;

            if (visible) {
                answerText.classList.remove('hidden-answer');
                answerText.classList.add('visible-answer');
                showBtn.disabled = true;
                showBtn.classList.add('opacity-50', 'cursor-not-allowed');
            } else {
                answerText.classList.remove('visible-answer');
                answerText.classList.add('hidden-answer');
                showBtn.disabled = false;
                showBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            }
        }

        /**
         * Moves to the next card in the sequence.
         */
        function nextCard() {
            if (isListViewVisible) return;

            currentCardIndex++;
            loadCard();
            messageBox.classList.add('hidden');
        }

        /**
         * Resets the entire review sequence to the first card.
         */
        function resetApp() {
            currentCardIndex = 0;
            if (isListViewVisible) {
                toggleListView();
            }
            loadCard();
            showMessage("Ready for the first question. What's your best guess?", 'info');
        }

        /**
         * Generates the HTML for the list of all questions and answers.
         */
        function generateQAList() {
            let html = '';
            flashcards.forEach((card, index) => {
                html += `
                    <div class="qa-list-item">
                        <h3 class="text-md font-bold text-green-300 data-font-main mb-1">
                            Q${index + 1}. [${card.topic}]
                        </h3>
                        <p class="text-sm text-white data-font mb-2">${card.question}</p>
                        <h4 class="text-xs font-semibold text-red-400 uppercase tracking-widest mb-1">Answer:</h4>
                        <p class="text-sm text-yellow-300 data-font">${card.answer}</p>
                    </div>
                `;
            });
            qaListContainer.innerHTML = html;
        }

        /**
         * Toggles between the single flashcard view and the all Q&A list view.
         */
        function toggleListView() {
            isListViewVisible = !isListViewVisible;

            if (isListViewVisible) {
                // Switch to List View
                flashcardView.classList.add('hidden');
                listView.classList.remove('hidden');
                generateQAList(); 
                
                showBtn.classList.add('hidden');
                nextBtn.classList.add('hidden');
                listBtnText.textContent = "VIEW CARD"; 
                messageBox.classList.add('hidden');
            } else {
                // Switch back to Flashcard View
                flashcardView.classList.remove('hidden');
                listView.classList.add('hidden');
                
                showBtn.classList.remove('hidden');
                nextBtn.classList.remove('hidden');
                listBtnText.textContent = "VIEW LIST"; 
                loadCard(); 
                showMessage("Ready for the next card.", 'info');
            }
        }

        // --- Initialization ---
        window.onload = function() {
            resetApp();
        };

    </script>
</body>
</html>
